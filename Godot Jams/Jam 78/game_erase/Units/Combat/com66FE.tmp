[gd_scene load_steps=61 format=3 uid="uid://byf4nkgylxsx8"]

[ext_resource type="Script" path="res://Units/Combat/combatUnit.gd" id="1_c8lav"]
[ext_resource type="Texture2D" uid="uid://cjla63mij0mo0" path="res://Assets/Units/MiniSwordMan.png" id="2_8rdu6"]
[ext_resource type="PackedScene" uid="uid://dyewi7ipnw4vu" path="res://Global/Health Bars/BasicHealthBar.tscn" id="3_eo6nu"]
[ext_resource type="Texture2D" uid="uid://cgtvm8orig45c" path="res://Assets/Units/MiniArcherMan.png" id="3_hkd0v"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_w604s"]

[sub_resource type="AtlasTexture" id="AtlasTexture_v12yx"]
atlas = ExtResource("2_8rdu6")
region = Rect2(0, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_sh4yp"]
atlas = ExtResource("2_8rdu6")
region = Rect2(32, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qogcw"]
atlas = ExtResource("2_8rdu6")
region = Rect2(64, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_na6ec"]
atlas = ExtResource("2_8rdu6")
region = Rect2(96, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_i1rfh"]
atlas = ExtResource("2_8rdu6")
region = Rect2(128, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ers2k"]
atlas = ExtResource("2_8rdu6")
region = Rect2(160, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_p3a5x"]
atlas = ExtResource("2_8rdu6")
region = Rect2(0, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_i2tyg"]
atlas = ExtResource("2_8rdu6")
region = Rect2(32, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_8q2es"]
atlas = ExtResource("2_8rdu6")
region = Rect2(64, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_t5ddd"]
atlas = ExtResource("2_8rdu6")
region = Rect2(96, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_surif"]
atlas = ExtResource("2_8rdu6")
region = Rect2(0, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_dcql5"]
atlas = ExtResource("2_8rdu6")
region = Rect2(32, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_yjd0d"]
atlas = ExtResource("2_8rdu6")
region = Rect2(64, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_v4cal"]
atlas = ExtResource("2_8rdu6")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_j2pix"]
atlas = ExtResource("2_8rdu6")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_eggdq"]
atlas = ExtResource("2_8rdu6")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_nd66w"]
atlas = ExtResource("2_8rdu6")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_biqy7"]
atlas = ExtResource("2_8rdu6")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_av4t7"]
atlas = ExtResource("2_8rdu6")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_5vr0a"]
atlas = ExtResource("2_8rdu6")
region = Rect2(64, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_exxqr"]
atlas = ExtResource("2_8rdu6")
region = Rect2(96, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_fucmx"]
atlas = ExtResource("2_8rdu6")
region = Rect2(128, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_e3oho"]
atlas = ExtResource("2_8rdu6")
region = Rect2(160, 32, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_y0kcq"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_v12yx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sh4yp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qogcw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_na6ec")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i1rfh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ers2k")
}],
"loop": true,
"name": &"attack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_p3a5x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i2tyg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8q2es")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t5ddd")
}],
"loop": true,
"name": &"die",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_surif")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dcql5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yjd0d")
}],
"loop": true,
"name": &"hit",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_v4cal")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j2pix")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_eggdq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nd66w")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_biqy7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_av4t7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5vr0a")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_exxqr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fucmx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e3oho")
}],
"loop": true,
"name": &"run",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_i0dw2"]
atlas = ExtResource("3_hkd0v")
region = Rect2(0, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_nt50b"]
atlas = ExtResource("3_hkd0v")
region = Rect2(32, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_mjssw"]
atlas = ExtResource("3_hkd0v")
region = Rect2(64, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_imixt"]
atlas = ExtResource("3_hkd0v")
region = Rect2(96, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_8eq7l"]
atlas = ExtResource("3_hkd0v")
region = Rect2(128, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_mffyx"]
atlas = ExtResource("3_hkd0v")
region = Rect2(160, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_so2ch"]
atlas = ExtResource("3_hkd0v")
region = Rect2(192, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_l3j1h"]
atlas = ExtResource("3_hkd0v")
region = Rect2(224, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ob0wl"]
atlas = ExtResource("3_hkd0v")
region = Rect2(256, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_1ervf"]
atlas = ExtResource("3_hkd0v")
region = Rect2(288, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_hst3g"]
atlas = ExtResource("3_hkd0v")
region = Rect2(320, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ot721"]
atlas = ExtResource("3_hkd0v")
region = Rect2(0, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_vih0e"]
atlas = ExtResource("3_hkd0v")
region = Rect2(32, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_tqoek"]
atlas = ExtResource("3_hkd0v")
region = Rect2(64, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_encqe"]
atlas = ExtResource("3_hkd0v")
region = Rect2(96, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_otf66"]
atlas = ExtResource("3_hkd0v")
region = Rect2(0, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_st47o"]
atlas = ExtResource("3_hkd0v")
region = Rect2(32, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_rf8cg"]
atlas = ExtResource("3_hkd0v")
region = Rect2(64, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_r1i1h"]
atlas = ExtResource("3_hkd0v")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_gjdyf"]
atlas = ExtResource("3_hkd0v")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_wr46l"]
atlas = ExtResource("3_hkd0v")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ohye1"]
atlas = ExtResource("3_hkd0v")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4cwe8"]
atlas = ExtResource("3_hkd0v")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_7xp7y"]
atlas = ExtResource("3_hkd0v")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_816ls"]
atlas = ExtResource("3_hkd0v")
region = Rect2(64, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_66mg2"]
atlas = ExtResource("3_hkd0v")
region = Rect2(96, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_yn7eq"]
atlas = ExtResource("3_hkd0v")
region = Rect2(128, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_h2a8n"]
atlas = ExtResource("3_hkd0v")
region = Rect2(160, 32, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_dmb63"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_i0dw2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nt50b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mjssw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_imixt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8eq7l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mffyx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_so2ch")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l3j1h")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ob0wl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1ervf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hst3g")
}],
"loop": true,
"name": &"attack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ot721")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vih0e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tqoek")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_encqe")
}],
"loop": true,
"name": &"die",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_otf66")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_st47o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rf8cg")
}],
"loop": true,
"name": &"hit",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_r1i1h")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gjdyf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wr46l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ohye1")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_4cwe8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7xp7y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_816ls")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_66mg2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yn7eq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h2a8n")
}],
"loop": true,
"name": &"run",
"speed": 5.0
}]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_4s4rt"]
bg_color = Color(0, 0.658824, 0.854902, 0.227451)
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1
border_color = Color(0, 0.658824, 0.854902, 0.752941)
corner_radius_top_left = 1
corner_radius_top_right = 1
corner_radius_bottom_right = 1
corner_radius_bottom_left = 1

[sub_resource type="LabelSettings" id="LabelSettings_o23ut"]
font_size = 10

[node name="CombatUnit" type="CharacterBody2D"]
script = ExtResource("1_c8lav")

[node name="Collision" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_w604s")

[node name="SwordUnit" type="AnimatedSprite2D" parent="Collision"]
visible = false
position = Vector2(0, -6)
sprite_frames = SubResource("SpriteFrames_y0kcq")
animation = &"hit"

[node name="BowUnit" type="AnimatedSprite2D" parent="Collision"]
visible = false
position = Vector2(0, -6)
sprite_frames = SubResource("SpriteFrames_dmb63")
animation = &"run"
frame_progress = 0.971442

[node name="SelectedPanel" type="Panel" parent="."]
visible = false
offset_left = -10.0
offset_top = -10.0
offset_right = 10.0
offset_bottom = 10.0
theme_override_styles/panel = SubResource("StyleBoxFlat_4s4rt")

[node name="Label" type="Label" parent="."]
visible = false
offset_left = -13.0
offset_top = -28.0
offset_right = 13.0
offset_bottom = -14.0
text = "SAFE"
label_settings = SubResource("LabelSettings_o23ut")

[node name="BasicHealthBar" parent="." instance=ExtResource("3_eo6nu")]
z_index = 20
offset_left = -8.0
offset_top = -9.0
offset_right = 8.0
offset_bottom = -7.0
value = 100.0

[node name="FoodTimer" type="Timer" parent="."]
wait_time = 5.0
autostart = true

[node name="InFogTimer" type="Timer" parent="."]

[connection signal="timeout" from="FoodTimer" to="." method="_on_timer_timeout"]
[connection signal="timeout" from="InFogTimer" to="." method="_on_in_fog_timer_timeout"]
